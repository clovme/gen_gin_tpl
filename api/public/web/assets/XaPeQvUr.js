import{a0 as Me,l as j,n as h,Z as Re,U as W,m as L,q as Y,z as be,E as k,e as Be,a1 as tt,G as nt,p as xe,B as ot,Y as at,c as S,o as m,h as y,F as ee,a as T,y as x,i as a,x as K,g as E,w as R,J as _,a2 as we,b as st,O as lt,a3 as rt,t as U,K as Se,a4 as Ce}from"./D5WYelTe.js";import{v as Ee,S as Ie,l as Le,j as Ae,o as it,w as He,x as ut,c as ct,k as dt,m as pt,p as ft,y as te,u as vt,q as Pe}from"./DLLUQ_Kj.js";import{k as Ne,v as mt,l as ht,E as B,c as gt}from"./Dp2quOww.js";import{i as ze,b as yt,d as bt,u as xt,e as wt,g as St,h as Ct,V as Et}from"./DF7d02V2.js";import{b as $e,d as ne,f as It,_ as Pt,w as Nt}from"./gSGeHy51.js";function zt(e){return e}function Ft(e,o,l){switch(l.length){case 0:return e.call(o);case 1:return e.call(o,l[0]);case 2:return e.call(o,l[0],l[1]);case 3:return e.call(o,l[0],l[1],l[2])}return e.apply(o,l)}var Tt=800,kt=16,Vt=Date.now;function Ot(e){var o=0,l=0;return function(){var n=Vt(),s=kt-(n-l);if(l=n,s>0){if(++o>=Tt)return arguments[0]}else o=0;return e.apply(void 0,arguments)}}function Mt(e){return function(){return e}}var Rt=Ee?function(e,o){return Ee(e,"toString",{configurable:!0,enumerable:!1,value:Mt(o),writable:!0})}:zt,Bt=Ot(Rt),Fe=Math.max;function Lt(e,o,l){return o=Fe(o===void 0?e.length-1:o,0),function(){for(var n=arguments,s=-1,c=Fe(n.length-o,0),i=Array(c);++s<c;)i[s]=n[o+s];s=-1;for(var u=Array(o+1);++s<o;)u[s]=n[s];return u[o]=l(i),Ft(e,this,u)}}var Te=Ie?Ie.isConcatSpreadable:void 0;function At(e){return Le(e)||Ae(e)||!!(Te&&e&&e[Te])}function Ht(e,o,l,n,s){var c=-1,i=e.length;for(l||(l=At),s||(s=[]);++c<i;){var u=e[c];l(u)?it(s,u):s[s.length]=u}return s}function $t(e){var o=e==null?0:e.length;return o?Ht(e):[]}function Dt(e){return Bt(Lt(e,void 0,$t),e+"")}function Kt(e,o){return e!=null&&o in Object(e)}function _t(e,o,l){o=He(o,e);for(var n=-1,s=o.length,c=!1;++n<s;){var i=ut(o[n]);if(!(c=e!=null&&l(e,i)))break;e=e[i]}return c||++n!=s?c:(s=e==null?0:e.length,!!s&&ct(s)&&dt(i,s)&&(Le(e)||Ae(e)))}function Ut(e,o){return e!=null&&_t(e,o,Kt)}function Wt(e){return e==null}function Yt(e,o,l){for(var n=-1,s=o.length,c={};++n<s;){var i=o[n],u=pt(e,i);l(u,i)&&ft(c,He(i,e),u)}return c}function Gt(e,o){return Yt(e,o,function(l,n){return Ut(e,n)})}var Xt=Dt(function(e,o){return e==null?{}:Gt(e,o)});const qt=()=>Me&&/firefox/i.test(window.navigator.userAgent);let w;const Zt={height:"0",visibility:"hidden",overflow:qt()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Jt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Qt(e){const o=window.getComputedStyle(e),l=o.getPropertyValue("box-sizing"),n=Number.parseFloat(o.getPropertyValue("padding-bottom"))+Number.parseFloat(o.getPropertyValue("padding-top")),s=Number.parseFloat(o.getPropertyValue("border-bottom-width"))+Number.parseFloat(o.getPropertyValue("border-top-width"));return{contextStyle:Jt.map(i=>[i,o.getPropertyValue(i)]),paddingSize:n,borderSize:s,boxSizing:l}}function ke(e,o=1,l){var n;w||(w=document.createElement("textarea"),document.body.appendChild(w));const{paddingSize:s,borderSize:c,boxSizing:i,contextStyle:u}=Qt(e);u.forEach(([g,I])=>w==null?void 0:w.style.setProperty(g,I)),Object.entries(Zt).forEach(([g,I])=>w==null?void 0:w.style.setProperty(g,I,"important")),w.value=e.value||e.placeholder||"";let p=w.scrollHeight;const b={};i==="border-box"?p=p+c:i==="content-box"&&(p=p-s),w.value="";const v=w.scrollHeight-s;if(Ne(o)){let g=v*o;i==="border-box"&&(g=g+s+c),p=Math.max(g,p),b.minHeight=`${g}px`}if(Ne(l)){let g=v*l;i==="border-box"&&(g=g+s+c),p=Math.min(g,p)}return b.height=`${p}px`,(n=w.parentNode)==null||n.removeChild(w),w=void 0,b}const jt=e=>e,en=$e({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),tn=e=>Xt(en,e),oe="update:modelValue",Ve="change",Oe="input",nn=$e({id:{type:String,default:void 0},size:yt,disabled:Boolean,modelValue:{type:ne([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:ne([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:ze},prefixIcon:{type:ze},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:ne([Object,Array,String]),default:()=>jt({})},autofocus:Boolean,rows:{type:Number,default:2},...tn(["ariaLabel"])}),on={[oe]:e=>j(e),input:e=>j(e),change:e=>j(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},an=["class","style"],sn=/^on[A-Z]/,ln=(e={})=>{const{excludeListeners:o=!1,excludeKeys:l}=e,n=h(()=>((l==null?void 0:l.value)||[]).concat(an)),s=Re();return s?h(()=>{var c;return It(Object.entries((c=s.proxy)==null?void 0:c.$attrs).filter(([i])=>!n.value.includes(i)&&!(o&&sn.test(i))))}):h(()=>({}))};function rn(e,{beforeFocus:o,afterFocus:l,beforeBlur:n,afterBlur:s}={}){const c=Re(),{emit:i}=c,u=W(),p=bt("disabled"),b=L(!1),v=f=>{be(o)&&o(f)||b.value||(b.value=!0,i("focus",f),l==null||l())},g=f=>{var r;be(n)&&n(f)||f.relatedTarget&&((r=u.value)!=null&&r.contains(f.relatedTarget))||(b.value=!1,i("blur",f),s==null||s())},I=()=>{var f,r;(f=u.value)!=null&&f.contains(document.activeElement)&&u.value!==document.activeElement||p.value||(r=e.value)==null||r.focus()};return Y([u,p],([f,r])=>{f&&(r?f.removeAttribute("tabindex"):f.setAttribute("tabindex","-1"))}),te(u,"focus",v,!0),te(u,"blur",g,!0),te(u,"click",I,!0),{isFocused:b,wrapperRef:u,handleFocus:v,handleBlur:g}}const un=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function cn({afterComposition:e,emit:o}){const l=L(!1),n=u=>{o==null||o("compositionstart",u),l.value=!0},s=u=>{var p;o==null||o("compositionupdate",u);const b=(p=u.target)==null?void 0:p.value,v=b[b.length-1]||"";l.value=!un(v)},c=u=>{o==null||o("compositionend",u),l.value&&(l.value=!1,k(()=>e(u)))};return{isComposing:l,handleComposition:u=>{u.type==="compositionend"?c(u):s(u)},handleCompositionStart:n,handleCompositionUpdate:s,handleCompositionEnd:c}}function dn(e){let o;function l(){if(e.value==null)return;const{selectionStart:s,selectionEnd:c,value:i}=e.value;if(s==null||c==null)return;const u=i.slice(0,Math.max(0,s)),p=i.slice(Math.max(0,c));o={selectionStart:s,selectionEnd:c,value:i,beforeTxt:u,afterTxt:p}}function n(){if(e.value==null||o==null)return;const{value:s}=e.value,{beforeTxt:c,afterTxt:i,selectionStart:u}=o;if(c==null||i==null||u==null)return;let p=s.length;if(s.endsWith(i))p=s.length-i.length;else if(s.startsWith(c))p=c.length;else{const b=c[u-1],v=s.indexOf(b,u-1);v!==-1&&(p=v+1)}e.value.setSelectionRange(p,p)}return[l,n]}const pn="ElInput",fn=Be({name:pn,inheritAttrs:!1}),vn=Be({...fn,props:nn,emits:on,setup(e,{expose:o,emit:l}){const n=e,s=tt(),c=ln(),i=nt(),u=h(()=>[n.type==="textarea"?G.b():r.b(),r.m(I.value),r.is("disabled",f.value),r.is("exceed",Ye.value),{[r.b("group")]:i.prepend||i.append,[r.m("prefix")]:i.prefix||n.prefixIcon,[r.m("suffix")]:i.suffix||n.suffixIcon||n.clearable||n.showPassword,[r.bm("suffix","password-clear")]:D.value&&Z.value,[r.b("hidden")]:n.type==="hidden"},s.class]),p=h(()=>[r.e("wrapper"),r.is("focus",q.value)]),{form:b,formItem:v}=St(),{inputId:g}=Ct(n,{formItemContext:v}),I=xt(),f=wt(),r=xe("input"),G=xe("textarea"),A=W(),C=W(),X=L(!1),H=L(!1),ae=L(),$=W(n.inputStyle),N=h(()=>A.value||C.value),{wrapperRef:De,isFocused:q,handleFocus:Ke,handleBlur:_e}=rn(N,{beforeFocus(){return f.value},afterBlur(){var t;n.validateEvent&&((t=v==null?void 0:v.validate)==null||t.call(v,"blur").catch(d=>Pe()))}}),se=h(()=>{var t;return(t=b==null?void 0:b.statusIcon)!=null?t:!1}),V=h(()=>(v==null?void 0:v.validateState)||""),le=h(()=>V.value&&Et[V.value]),Ue=h(()=>H.value?mt:ht),We=h(()=>[s.style]),re=h(()=>[n.inputStyle,$.value,{resize:n.resize}]),P=h(()=>Wt(n.modelValue)?"":String(n.modelValue)),D=h(()=>n.clearable&&!f.value&&!n.readonly&&!!P.value&&(q.value||X.value)),Z=h(()=>n.showPassword&&!f.value&&!!P.value),z=h(()=>n.showWordLimit&&!!n.maxlength&&(n.type==="text"||n.type==="textarea")&&!f.value&&!n.readonly&&!n.showPassword),J=h(()=>P.value.length),Ye=h(()=>!!z.value&&J.value>Number(n.maxlength)),Ge=h(()=>!!i.suffix||!!n.suffixIcon||D.value||n.showPassword||z.value||!!V.value&&se.value),[ie,ue]=dn(A);vt(C,t=>{if(Xe(),!z.value||n.resize!=="both")return;const d=t[0],{width:F}=d.contentRect;ae.value={right:`calc(100% - ${F+15+6}px)`}});const O=()=>{const{type:t,autosize:d}=n;if(!(!Me||t!=="textarea"||!C.value))if(d){const F=Ce(d)?d.minRows:void 0,ge=Ce(d)?d.maxRows:void 0,ye=ke(C.value,F,ge);$.value={overflowY:"hidden",...ye},k(()=>{C.value.offsetHeight,$.value=ye})}else $.value={minHeight:ke(C.value).minHeight}},Xe=(t=>{let d=!1;return()=>{var F;if(d||!n.autosize)return;((F=C.value)==null?void 0:F.offsetParent)===null||(t(),d=!0)}})(O),M=()=>{const t=N.value,d=n.formatter?n.formatter(P.value):P.value;!t||t.value===d||(t.value=d)},Q=async t=>{ie();let{value:d}=t.target;if(n.formatter&&n.parser&&(d=n.parser(d)),!de.value){if(d===P.value){M();return}l(oe,d),l(Oe,d),await k(),M(),ue()}},ce=t=>{let{value:d}=t.target;n.formatter&&n.parser&&(d=n.parser(d)),l(Ve,d)},{isComposing:de,handleCompositionStart:pe,handleCompositionUpdate:fe,handleCompositionEnd:ve}=cn({emit:l,afterComposition:Q}),qe=()=>{ie(),H.value=!H.value,setTimeout(ue)},Ze=()=>{var t;return(t=N.value)==null?void 0:t.focus()},Je=()=>{var t;return(t=N.value)==null?void 0:t.blur()},Qe=t=>{X.value=!1,l("mouseleave",t)},je=t=>{X.value=!0,l("mouseenter",t)},me=t=>{l("keydown",t)},et=()=>{var t;(t=N.value)==null||t.select()},he=()=>{l(oe,""),l(Ve,""),l("clear"),l(Oe,"")};return Y(()=>n.modelValue,()=>{var t;k(()=>O()),n.validateEvent&&((t=v==null?void 0:v.validate)==null||t.call(v,"change").catch(d=>Pe()))}),Y(P,()=>M()),Y(()=>n.type,async()=>{await k(),M(),O()}),ot(()=>{!n.formatter&&n.parser,M(),k(O)}),o({input:A,textarea:C,ref:N,textareaStyle:re,autosize:at(n,"autosize"),isComposing:de,focus:Ze,blur:Je,select:et,clear:he,resizeTextarea:O}),(t,d)=>(m(),S("div",{class:x([a(u),{[a(r).bm("group","append")]:t.$slots.append,[a(r).bm("group","prepend")]:t.$slots.prepend}]),style:Se(a(We)),onMouseenter:je,onMouseleave:Qe},[y(" input "),t.type!=="textarea"?(m(),S(ee,{key:0},[y(" prepend slot "),t.$slots.prepend?(m(),S("div",{key:0,class:x(a(r).be("group","prepend"))},[K(t.$slots,"prepend")],2)):y("v-if",!0),T("div",{ref_key:"wrapperRef",ref:De,class:x(a(p))},[y(" prefix slot "),t.$slots.prefix||t.prefixIcon?(m(),S("span",{key:0,class:x(a(r).e("prefix"))},[T("span",{class:x(a(r).e("prefix-inner"))},[K(t.$slots,"prefix"),t.prefixIcon?(m(),E(a(B),{key:0,class:x(a(r).e("icon"))},{default:R(()=>[(m(),E(_(t.prefixIcon)))]),_:1},8,["class"])):y("v-if",!0)],2)],2)):y("v-if",!0),T("input",we({id:a(g),ref_key:"input",ref:A,class:a(r).e("inner")},a(c),{minlength:t.minlength,maxlength:t.maxlength,type:t.showPassword?H.value?"text":"password":t.type,disabled:a(f),readonly:t.readonly,autocomplete:t.autocomplete,tabindex:t.tabindex,"aria-label":t.ariaLabel,placeholder:t.placeholder,style:t.inputStyle,form:t.form,autofocus:t.autofocus,role:t.containerRole,onCompositionstart:a(pe),onCompositionupdate:a(fe),onCompositionend:a(ve),onInput:Q,onChange:ce,onKeydown:me}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),y(" suffix slot "),a(Ge)?(m(),S("span",{key:1,class:x(a(r).e("suffix"))},[T("span",{class:x(a(r).e("suffix-inner"))},[!a(D)||!a(Z)||!a(z)?(m(),S(ee,{key:0},[K(t.$slots,"suffix"),t.suffixIcon?(m(),E(a(B),{key:0,class:x(a(r).e("icon"))},{default:R(()=>[(m(),E(_(t.suffixIcon)))]),_:1},8,["class"])):y("v-if",!0)],64)):y("v-if",!0),a(D)?(m(),E(a(B),{key:1,class:x([a(r).e("icon"),a(r).e("clear")]),onMousedown:lt(a(rt),["prevent"]),onClick:he},{default:R(()=>[st(a(gt))]),_:1},8,["class","onMousedown"])):y("v-if",!0),a(Z)?(m(),E(a(B),{key:2,class:x([a(r).e("icon"),a(r).e("password")]),onClick:qe},{default:R(()=>[(m(),E(_(a(Ue))))]),_:1},8,["class"])):y("v-if",!0),a(z)?(m(),S("span",{key:3,class:x(a(r).e("count"))},[T("span",{class:x(a(r).e("count-inner"))},U(a(J))+" / "+U(t.maxlength),3)],2)):y("v-if",!0),a(V)&&a(le)&&a(se)?(m(),E(a(B),{key:4,class:x([a(r).e("icon"),a(r).e("validateIcon"),a(r).is("loading",a(V)==="validating")])},{default:R(()=>[(m(),E(_(a(le))))]),_:1},8,["class"])):y("v-if",!0)],2)],2)):y("v-if",!0)],2),y(" append slot "),t.$slots.append?(m(),S("div",{key:1,class:x(a(r).be("group","append"))},[K(t.$slots,"append")],2)):y("v-if",!0)],64)):(m(),S(ee,{key:1},[y(" textarea "),T("textarea",we({id:a(g),ref_key:"textarea",ref:C,class:[a(G).e("inner"),a(r).is("focus",a(q))]},a(c),{minlength:t.minlength,maxlength:t.maxlength,tabindex:t.tabindex,disabled:a(f),readonly:t.readonly,autocomplete:t.autocomplete,style:a(re),"aria-label":t.ariaLabel,placeholder:t.placeholder,form:t.form,autofocus:t.autofocus,rows:t.rows,role:t.containerRole,onCompositionstart:a(pe),onCompositionupdate:a(fe),onCompositionend:a(ve),onInput:Q,onFocus:a(Ke),onBlur:a(_e),onChange:ce,onKeydown:me}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),a(z)?(m(),S("span",{key:0,style:Se(ae.value),class:x(a(r).e("count"))},U(a(J))+" / "+U(t.maxlength),7)):y("v-if",!0)],64))],38))}});var mn=Pt(vn,[["__file","input.vue"]]);const Sn=Nt(mn);export{Sn as E};
