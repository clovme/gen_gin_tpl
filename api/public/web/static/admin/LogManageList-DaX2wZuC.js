import{A as g,d as f,b as t,c as u,i as b,o as h,w as x,g as _,n as v,k as y}from"./index-Dydifo4O.js";import{e as c}from"./dict-CiPuNi55.js";function R(a){return g({url:`/api/pub/admin/log/list/page/${a.pageSize}/${a.currentPage}`,method:"get",params:a})}const P=f({__name:"LogManageList",setup(a){const l=t({name:"VxeSelect",props:{clearable:!0},options:[{value:"api",label:"服务日志"},{value:"system",label:"系统日志"}]}),n=t({name:"VxeSelect",props:{readonly:!0,clearable:!0},options:[{value:"api",label:"服务日志"},{value:"system",label:"系统日志"}]});c({code:"LOG_TYPE"}).then(e=>{l.options=e.data,n.options=e.data});const i=t({name:"VxeSelect",options:[{value:"success",label:"正常"},{value:"error",label:"错误"}]}),s=t({name:"VxeSelect",props:{readonly:!0,clearable:!0},options:[{value:"success",label:"正常"},{value:"error",label:"错误"}]});c({code:"LOG_STATUS"}).then(e=>{i.options=e.data,s.options=e.data});const m=t({id:"LogManageList",height:"100%",showOverflow:!0,rowConfig:{isHover:!0},sortConfig:{remote:!0,multiple:!0},customConfig:{storage:!0},toolbarConfig:{refresh:!0,zoom:!0},formConfig:{titleWidth:80,titleAlign:"right",items:[{field:"content",title:"日志内容",span:6,itemRender:{name:"VxeInput",props:{clearable:!0}}},{field:"createBy",title:"操作人",span:6,itemRender:{name:"VxeInput",props:{clearable:!0}}},{field:"startDate",title:"开始时间",span:6,itemRender:{name:"VxeDatePicker",props:{clearable:!0}}},{field:"endDate",title:"结束时间",span:6,itemRender:{name:"VxeDatePicker",props:{clearable:!0}}},{field:"type",title:"日志类型",span:6,folding:!0,itemRender:l},{field:"status",title:"日志状态",span:6,folding:!0,itemRender:i},{span:24,align:"center",collapseNode:!0,itemRender:{name:"ListSearchBtn"}}]},pagerConfig:{},columns:[{type:"seq",width:70},{field:"content",title:"日志内容",minWidth:300},{field:"type",title:"日志类型",sortable:!0,width:120,cellRender:n},{field:"status",title:"日志状态",width:100,cellRender:s},{field:"createBy",title:"操作人",width:160},{field:"createTime",title:"操作时间",width:160,formatter:"FormatDateTime",sortable:!0}],proxyConfig:{form:!0,sort:!0,ajax:{query({page:e,form:d,sorts:r}){const o={...e,...d,orderBy:r.map(p=>`${p.field}|${p.order}`).join(",")};return R(o)}}}});return(e,d)=>{const r=u("vxe-grid"),o=u("PageView");return h(),b(o,null,{default:x(()=>[_(r,v(y(m)),null,16)]),_:1})}}});export{P as default};
