import{d,y as u,u as f,r as p,b as _,l as g,c as s,i as x,o as v,w as y,g as V,m as b,V as R}from"./index-Dydifo4O.js";import{a as w,b as h}from"./demo-BIhve4sl.js";const P=d({__name:"DemoTwoEdit",setup(D){const t=u(),r=f(),e=p(!1),a=_({titleWidth:80,titleColon:!0,titleAlign:"right",data:{_id:"",name:"",nickname:"",code:"",amount:null,commenceDate:"",describe:""},rules:{name:[{required:!0,message:"请输入名称"}]},items:[{field:"name",title:"名称",span:12,itemRender:{name:"VxeInput"}},{field:"code",title:"编码",span:12,itemRender:{name:"VxeInput"}},{field:"nickname",title:"昵称",span:12,itemRender:{name:"VxeInput"}},{field:"amount",title:"金额",span:12,itemRender:{name:"VxeNumberInput"}},{field:"commenceDate",title:"开工时间",span:12,itemRender:{name:"VxeDatePicker"}},{field:"describe",title:"描述",span:24,itemRender:{name:"VxeTextarea"}},{align:"center",span:24,itemRender:{name:"EditSubmitBtn"}}]}),i=async()=>{e.value=!0,a.data=null;try{const o=(await w({id:t.query.id})).data;a.data=o}catch{}finally{e.value=!1}},m=async()=>{e.value=!0;try{await h({...a.data,_id:t.query.id||""}),R.modal.message({content:"保存成功",status:"success"}),r.back()}catch{}finally{e.value=!1}};return g(()=>t.query.id,()=>{i()}),t.query.id&&i(),(n,o)=>{const l=s("vxe-form"),c=s("PageView");return v(),x(c,{loading:e.value},{default:y(()=>[V(l,b(a,{onSubmit:m}),null,16)]),_:1},8,["loading"])}}});export{P as default};
