// Code generated by buildx tool. DO NOT EDIT.
// Code generated by buildx tool. DO NOT EDIT.
// Code generated by buildx tool. DO NOT EDIT.

package routers

import (
	"gen_gin_tpl/internal/bootstrap"
	"github.com/gin-gonic/gin"
	"gorm.io/gorm"
)

type routeGroup struct {
	noAuth *gin.RouterGroup
	noAuthView *gin.RouterGroup
	public *gin.RouterGroup
}

func (r *routeGroup) register(db *gorm.DB) {
	// 初始化仓库和服务
	ctx := bootstrap.NewAppContext(db)

	r.noAuth.GET("/login", ctx.LoginHandler.Login)

	r.noAuthView.GET("/", ctx.ViewIndexHandler.IndexView)
	r.noAuthView.GET("/login", ctx.ViewLoginHandler.LoginView)
	r.noAuthView.GET("/signup", ctx.ViewLoginHandler.RegeditView)

	r.public.GET("/config", ctx.ConfigHandler.Config)
	r.public.GET("/public/key", ctx.PublicHandler.PublicKey)
	r.public.GET("/public/code", ctx.PublicHandler.HttpCode)
	r.public.GET("/public/ping", ctx.PublicHandler.Ping)
}